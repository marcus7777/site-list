  <link rel="import" href="../polymer/polymer.html">
  <link rel="import" href="../url-value/url-value.html">
  <link rel="import" href="../get-hash/get-hash.html">
  <link rel="import" href="../paper-filter/paper-filter.html">
  <link rel="import" href="../get-geo-data/get-geo-data.html">
  <link rel="import" href="../iron-image/iron-image.html">
  <link rel="import" href="../paper-material/paper-material.html">
  
<dom-module id="site-list">
  <style>
    :host {
      display: block;
      text-align: center;
    }
    paper-button {
      background: #fff;
      min-width: 172px;
      margin: 0px 2px 6px;
    }
    paper-material {
      margin: 16px, 16px;
      height: 100px;
      min-width:360px;
      margin:10px;
      display: inline-block;
    }
    a:link {
      color:black;
    }
    google-map {
       height: 100px;
    }
  </style>
  
  <template is="dom-bind">
    <url-value values="{{url}}" ></url-value>
    <input value="{{location::input}}" />
    
    <h1>{{url.search}}</h1>
    
    <get-hash location="{{location}}" map="{{map}}" hash="{{hash}}"></get-hash>
    <google-map map="{{map}}" id="map"></google-map>
    <get-geo-data
       location="https://essential-map.firebaseio.com/geo"
       geo="{{hash}}" 
       data="{{data}}" >
    </get-geo-data>
    
    <h1>{{hash}}</h1>
    
    <paper-filter by="type" data="{{data}}" output="{{data_by_type}}">
    </paper-filter>
    
    <paper-filter by="facilities" data="{{data_by_type}}" output="{{data_by_t_and_f}}">
    </paper-filter>

    <template is="dom-repeat" items="{{data_by_t_and_f}}" as="card">
      <a href="{{card.url}}" title="{{card.value}}" >
        <paper-material>
          <div class="body1" style="float: left;width:250px">
            <h3>{{card.value}}</h3>
            <span>{{card.title}}</span>
            <span>more infomation</span>
          </div>
          
          <!-- <iron-image sizing="cover" src="https://sdyrcs.cloudimage.io/s/crop/120x120/{{card.image}}" style="width:100px; height:100px;"></iron-image> -->
          <iron-image sizing="cover" src="{{card.image}}" style="float: right;width:100px; height:100px;"></iron-image>
        </paper-material>
      </a>
    </template>
  </template>
</dom-module>
